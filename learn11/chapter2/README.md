# 栈

栈就是和列表类似的一种数据结构，它可用来解决计算机世界里的很多问题。栈是一种高 效的数据结构，因为数据只能在栈顶添加或删除，所以这样的操作很快，而且容易实现。 栈的使用遍布程序语言实现的方方面面，从表达式求值到处理函数调用。

## 对栈的操作

栈是一种特殊的列表，栈内的元素只能通过列表的一端访问，这一端称为栈顶。

由于栈具有后入先出的特点，所以任何不在栈顶的元素都无法访问。为了得到栈底的元 素，必须先拿掉上面的元素。

对栈的两种主要操作是将一个元素压入栈和将一个元素弹出栈。入栈使用 `push()` 方法，出 栈使用 `pop()` 方法。

另一个常用的操作是预览栈顶的元素。`pop()` 方法虽然可以访问栈顶的元素，但是调用该方 法后，栈顶元素也从栈中被永久性地删除了。`peek()` 方法则只返回栈顶元素，而不删除它。

为了记录栈顶元素的位置，同时也为了标记哪里可以加入新元素，我们使用变量 top，当向栈内压入元素时，该变量增大;从栈内弹出元素时，该变量减小。

`push()`、`pop()` 和 `peek()` 是栈的 3 个主要方法，但是栈还有其他方法和属性。clear() 方法 清除栈内所有元素，length 属性记录栈内元素的个数。我们还定义了一个 empty 属性，用 以表示栈内是否含有元素，不过使用 length 属性也可以达到同样的目的。

## 栈的实现

我们的实现以定义 Stack 类的构造函数开始:

```js
function Stack() {
  this.dataStore = [];
  this.top = 0;
  this.push = push;
  this.pop = pop;
  this.peek = peek;
}
```

我们用数组 `dataStore` 保存栈内元素，构造函数将其初始化为一个空数组。变量 `top` 记录 栈顶位置，被构造函数初始化为 0，表示栈顶对应数组的起始位置 0。如果有元素被压入 栈，该变量的值将随之变化。

先来实现 `push()` 方法。当向栈中压入一个新元素时，需要将其保存在数组中变量 `top` 所对 应的位置，然后将 `top` 值加 1，让其指向数组中下一个空位置。

```js
function push(element) {
  this.dataStore[this.top++] = element;
}
```

`pop()` 方法恰好与 `push()` 方法相反——它返回栈顶元素，同时将变量 `top` 的值减 1

```js
function pop() {
  return this.dataStore[--this.top];
}
```

`peek()` 方法返回数组的第 `top-1` 个位置的元素，即栈顶元素

```js
function peek() {
  return this.dataStore[this.top-1];
}
```

如果对一个空栈调用 `peek()` 方法，结果为 `undefined`。这是因为栈是空的，栈顶没有任何元素。

有时候需要知道栈内存储了多少个元素。`length()` 方法通过返回变量 `top` 值的方式返回栈 内的元素个数

```js
function length() {
  return this.top;
}
```

最后，可以将变量 top 的值设为 0，轻松清空一个栈

```js
function clear() {
  this.top = 0;
}
```